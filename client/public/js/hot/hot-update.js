webpackHotUpdate(0,{

/***/ 86:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadMoreEvents = exports.deleteEventRequest = exports.editEventAction = exports.editEventRequestAction = exports.fetchEventRequest = exports.createEventRequest = exports.searchEventsDispatch = undefined;\n\nvar _redux = __webpack_require__(23);\n\nvar _axios = __webpack_require__(40);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _ = __webpack_require__(28);\n\nvar _setAuthenticationToken = __webpack_require__(111);\n\nvar _setAuthenticationToken2 = _interopRequireDefault(_setAuthenticationToken);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  @API Route String\n * * */\nvar api = '/api/v1/events';\n\n/**\n *  @Event Dispatch Method\n *  @Returns Object\n * * */\nvar eventsDispatchAction = function eventsDispatchAction(type) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (type) {\n    case 'edit':\n      return {\n        type: _.EDIT_EVENT,\n        payload: data\n      };\n\n    case 'edit_request':\n      return {\n        type: _.EDIT_EVENT_REQUEST,\n        payload: data\n      };\n\n    case 'add':\n      return {\n        type: _.ADD_EVENT,\n        payload: data\n      };\n\n    case 'fetch':\n      return {\n        type: _.FETCH_EVENTS,\n        payload: data\n      };\n\n    case 'delete':\n      return {\n        type: _.REMOVE_EVENT,\n        payload: data\n      };\n\n    default:\n      return data;\n  }\n};\n\nvar searchEventsDispatch = exports.searchEventsDispatch = function searchEventsDispatch(data) {\n  return {\n    type: _.SEARCH_EVENT_TITLE,\n    events: data\n  };\n};\n\nvar createEvent = function createEvent(eventData, imgUrl) {\n  return function (dispatch) {\n    var token = localStorage.getItem('jwtToken') ? localStorage.getItem('jwtToken') : false;\n    (0, _setAuthenticationToken2.default)(token);\n    eventData.img_url = imgUrl;\n    return _axios2.default.post(api, eventData).then(function (_ref) {\n      var data = _ref.data;\n\n      dispatch(eventsDispatchAction('add', data.event));\n      Materialize.toast(data.message, 5000, 'teal');\n      location.reload();\n    }).catch(function (err) {\n      console.log(err);\n      Materialize.toast('An Error Occurred..!!!', 5000, 'red');\n    });\n  };\n};\n\n/**\n *  Initial Create Event Request Action\n *  @Returns Promise\n * * */\nvar createEventRequest = exports.createEventRequest = function createEventRequest(eventData) {\n  return function (dispatch) {\n    if (eventData.img_url.name) {\n      var formData = new FormData();\n      formData.append('file', eventData.img_url);\n      formData.append('upload_preset', _.CLOUDINARY_UPLOAD_PRESET);\n      (0, _setAuthenticationToken2.default)(false);\n      return _axios2.default.post(_.CLOUDINARY_URL, formData).then(function (_ref2) {\n        var data = _ref2.data;\n\n        dispatch(createEvent(eventData, data.url));\n      }).catch(function (err) {\n        Materialize.toast('Error in connection', 5000, 'red');\n        console.log(err);\n      });\n    }\n\n    return dispatch(createEvent(eventData, ''));\n  };\n};\n\n/**\n *  @Fetch Event Action\n *  @Returns Object\n * * */\nvar fetchEventRequest = exports.fetchEventRequest = function fetchEventRequest() {\n  return function (dispatch) {\n    return _axios2.default.get(api).then(function (_ref3) {\n      var data = _ref3.data;\n\n      data.loadingmore = false;\n      data.loadmore = false;\n      dispatch(eventsDispatchAction('fetch', data));\n    });\n  };\n};\n\n/**\n *  @Edit Event Request Action\n *  @Returns Object\n * * */\nvar editEventRequestAction = exports.editEventRequestAction = function editEventRequestAction(data) {\n  return function (dispatch) {\n    return dispatch(eventsDispatchAction('edit_request', data));\n  };\n};\n\nvar editEvent = function editEvent(eventData, imgUrl) {\n  return function (dispatch) {\n    var token = localStorage.getItem('jwtToken') ? localStorage.getItem('jwtToken') : false;\n    (0, _setAuthenticationToken2.default)(token);\n    eventData.img_url = imgUrl;\n    return _axios2.default.put(api + '/' + eventData.eventId, eventData).then(function (_ref4) {\n      var data = _ref4.data;\n\n      if (data.statusCode === 201) {\n        Materialize.toast(data.message, 5000, 'teal');\n        $('#add_event_modal').modal('close');\n        return dispatch(eventsDispatchAction('edit', data.event));\n      }\n      return data;\n    }).catch(function () {\n      Materialize.toast('Error in connection', 5000, 'red');\n    });\n  };\n};\n\n/**\n *  @Edit Event Action\n *  @Returns Object\n * * */\nvar editEventAction = exports.editEventAction = function editEventAction(eventData) {\n  return function (dispatch) {\n    if (eventData.img_url.name) {\n      var formData = new FormData();\n      formData.append('file', eventData.img_url);\n      formData.append('upload_preset', _.CLOUDINARY_UPLOAD_PRESET);\n      (0, _setAuthenticationToken2.default)(false);\n      return _axios2.default.post(_.CLOUDINARY_URL, formData).then(function (_ref5) {\n        var data = _ref5.data;\n\n        dispatch(editEvent(eventData, data.url));\n      }).catch(function () {\n        Materialize.toast('Error in connection', 5000, 'red');\n      });\n    }\n    return dispatch(editEvent(eventData, eventData.img_url));\n  };\n};\n\n/**\n *  @Delete Event Action\n *  @Returns Object\n * * */\nvar deleteEventRequest = exports.deleteEventRequest = function deleteEventRequest(id) {\n  id = parseInt(id, 10);\n  return function (dispatch) {\n    return _axios2.default.delete(api + '/' + id).then(function (_ref6) {\n      var data = _ref6.data;\n\n      if (data.statusCode === 200) {\n        Materialize.toast(data.message, 5000);\n        return dispatch(eventsDispatchAction('delete', data.event));\n      }\n      Materialize.toast(data.message, 5000, 'red');\n      return data;\n    }).catch(function (err) {\n      Materialize.toast(err.message, 5000, 'red');\n    });\n  };\n};\n\n/**\n *  @Load more Event Request Action\n *  @Returns Object\n * * */\nvar loadMoreEvents = exports.loadMoreEvents = function loadMoreEvents(offset) {\n  return function (dispatch) {\n    dispatch({\n      type: _.LOADMORE_EVENT_REQUEST\n    });\n    return _axios2.default.get(api + '?next=' + offset).then(function (_ref7) {\n      var data = _ref7.data;\n\n      if (data.statusCode === 200) {\n        return dispatch({\n          type: _.LOADMORE_EVENT_SUCCESS,\n          payload: data.events\n        });\n      }\n      return dispatch({\n        type: _.LOADMORE_EVENT_FAILURE\n      });\n    });\n  };\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/actions/events-actions/index.js\n// module id = 86\n// module chunks = 0\n\n//# sourceURL=webpack:///./client/src/actions/events-actions/index.js?");

/***/ })

})