{"version":3,"sources":["webpack:///./client/src/components/centerComponent/centerDetail/RecommCenter.jsx"],"names":["RecommCenter","props","helper","state","isLoading","error","noCenter","errorMessage","relatedCenters","currentCenterId","newProps","setState","relatedCenterBasedOn","id","then","data","statusCode","centers","catch","err","centerId","map","center","to","sanitizeString","title","checkOwnCenter","generate","img_url","location","eachCenter","sortAndShowRecommended","propTypes","object","isRequired"],"mappings":"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","file":"./hot/hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport shortid from 'shortid';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { fetchCenterRelatedTo } from '../../../actions/center-actions/fetchCenterRelatedTo';\nimport { CircularLoader } from '../../loader';\nimport Helpers from '../../../helpers';\n\nclass RecommCenter extends Component {\n  constructor(props) {\n    super(props);\n    this.helper = new Helpers();\n    this.state = {\n      isLoading: true,\n      error: false,\n      noCenter: 'There are no related centers',\n      errorMessage: '',\n      relatedCenters: [],\n      currentCenterId: 0\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({ currentCenterId: newProps.relatedCenterBasedOn.id });\n    fetchCenterRelatedTo(newProps.relatedCenterBasedOn)\n      .then(({ data }) => {\n        if (data.statusCode === 200) {\n          this.setState({ isLoading: false, relatedCenters: data.centers });\n        } else {\n          this.setState({ isLoading: false, error: true, errorMessage: this.state.noCenter });\n        }\n      })\n      .catch((err) => {\n        this.setState({ isLoading: false, error: true, errorMessage: 'Houston we have a problem!! we are working on it' });\n      });\n  }\n\n  checkOwnCenter(centerId) {\n    return centerId !== this.state.currentCenterId;\n  }\n\n  sortAndShowRecommended(relatedCenters) {\n    if (relatedCenters) {\n      return relatedCenters.map((center) => {\n        let to = `/center/${center.id}/${this.helper.sanitizeString(center.title)}`;\n        if (this.checkOwnCenter(center.id)) {\n          return (\n            <div key={shortid.generate()} className=\"col s12 l4\">\n              <Link to={to} href={to}>\n                <div className=\"card\">\n                  <div className=\"card-image\">\n                    <img src={center.img_url} alt=\"center\" />\n                  </div>\n                  <div className=\"card-content black-text\">\n                    <p className=\"f__size\">{center.title}</p>\n                    <p><i className=\"material-icons f15\">location_on</i>{center.location}</p>\n                  </div>\n                </div>\n              </Link>\n            </div>\n          );\n        }\n        return (\n          <p key={shortid.generate()}>{this.state.noCenter}</p>\n        );\n      });\n    }\n  }\n\n  render() {\n    let {\n      isLoading, error, errorMessage, relatedCenters\n    } = this.state;\n    let eachCenter = this.sortAndShowRecommended(relatedCenters);\n    return (\n      <div className=\"row\">\n        <div className=\"divider\" />\n        <h5>Recommended Center</h5>\n        { isLoading && <CircularLoader /> }\n        <div className=\"row\">\n          { !isLoading && (error) ? errorMessage : (isEmpty(eachCenter)) ? this.state.noCenter : eachCenter }\n        </div>\n      </div>\n    );\n  }\n}\n\nRecommCenter.propTypes = {\n  relatedCenterBasedOn: PropTypes.object.isRequired\n};\n\nexport default RecommCenter;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/components/centerComponent/centerDetail/RecommCenter.jsx"],"sourceRoot":""}