{"version":3,"sources":["../../server/middleware/mailer.js"],"names":["to","subject","text","html","transporter","createTransport","host","port","secure","auth","user","pass","tls","rejectUnauthorized","mailOptions","from","sendMail","error","info","console","log","messageId","getTestMessageUrl"],"mappings":";;;;;;AAAA;;;;;;kBAEe,UAACA,EAAD,EAAKC,OAAL,EAAcC,IAAd,EAAoBC,IAApB,EAA6B;AACxC;AACA,QAAIC,cAAc,qBAAWC,eAAX,CAA2B;AACzCC,cAAM,kBADmC;AAEzCC,cAAM,GAFmC;AAGzCC,gBAAQ,KAHiC,EAG1B;AACfC,cAAM;AACFC,kBAAM,qBADJ,EAC2B;AAC7BC,kBAAM,UAFJ,CAEgB;AAFhB,SAJmC;AAQzCC,aAAK;AACDC,gCAAoB;AADnB;AARoC,KAA3B,CAAlB;;AAaA;AACA,QAAIC,cAAc;AACdC,cAAM,iDADQ,EAC2C;AACzDf,YAAIA,EAFU,EAEN;AACRC,iBAAYA,OAAZ,YAHc,EAGW;AACzBC,cAAMA,IAJQ,EAIF;AACZC,mBAASA,IALK,CAKE;AALF,KAAlB;;AAQA;AACAC,gBAAYY,QAAZ,CAAqBF,WAArB,EAAkC,UAACG,KAAD,EAAQC,IAAR,EAAiB;AAC/C,YAAID,KAAJ,EAAW;AACPE,oBAAQC,GAAR,CAAYH,KAAZ;AACA,mBAAO,KAAP;AACH;AACDE,gBAAQC,GAAR,CAAY,kBAAZ,EAAgCF,KAAKG,SAArC;AACA;AACAF,gBAAQC,GAAR,CAAY,iBAAZ,EAA+B,qBAAWE,iBAAX,CAA6BJ,IAA7B,CAA/B;AACA,eAAO,IAAP;AACH,KATD;AAUH,C","file":"mailer.js","sourcesContent":["import nodemailer from 'nodemailer';\n\nexport default (to, subject, text, html) => {\n    // create reusable transporter object using the default SMTP transport\n    let transporter = nodemailer.createTransport({\n        host: 'mail.gistout.com',\n        port: 587,\n        secure: false, // true for 465, false for other ports\n        auth: {\n            user: 'noreply@gistout.com', // generated ethereal user\n            pass: 'gabmicah'  // generated ethereal password\n        },\n        tls: {\n            rejectUnauthorized: false\n        }\n    });\n\n    // setup email data with unicode symbols\n    let mailOptions = {\n        from: '\"Boots Events Manager ðŸ‘»\" <noreply@gistout.com>', // sender address\n        to: to, // list of receivers\n        subject: `${subject} âœ”`, // Subject line\n        text: text, // plain text body\n        html: `${html}` // html body\n    };\n\n    // send mail with defined transport object\n    transporter.sendMail(mailOptions, (error, info) => {\n        if (error) {\n            console.log(error);\n            return false;\n        }\n        console.log('Message sent: %s', info.messageId);\n        // Preview only available when sending through an Ethereal account\n        console.log('Preview URL: %s', nodemailer.getTestMessageUrl(info));\n        return true;\n    });\n};"]}