{"version":3,"sources":["../../server/middleware/mailer.js"],"names":["to","subject","text","html","transporter","createTransport","host","port","secure","auth","user","pass","tls","rejectUnauthorized","mailOptions","from","sendMail","error","info","console","log","messageId","getTestMessageUrl"],"mappings":";;;;;;AAAA;;;;;;kBAEe,UAACA,EAAD,EAAKC,OAAL,EAAcC,IAAd,EAAoBC,IAApB,EAA6B;AACxC;AACA,QAAIC,cAAc,qBAAWC,eAAX,CAA2B;AACzCC,cAAM,kBADmC;AAEzCC,cAAM,GAFmC;AAGzCC,gBAAQ,KAHiC,EAG1B;AACfC,cAAM;AACFC,kBAAM,qBADJ,EAC2B;AAC7BC,kBAAM,UAFJ,CAEgB;AAFhB,SAJmC;AAQzCC,aAAK;AACDC,gCAAoB;AADnB;AARoC,KAA3B,CAAlB;;AAaA;AACA,QAAIC,cAAc;AACdC,cAAM,iDADQ,EAC2C;AACzDf,YAAIA,EAFU,EAEN;AACRC,iBAAYA,OAAZ,YAHc,EAGW;AACzBC,cAAMA,IAJQ,EAIF;AACZC,mBAASA,IALK,CAKE;AALF,KAAlB;;AAQA;AACAC,gBAAYY,QAAZ,CAAqBF,WAArB,EAAkC,UAACG,KAAD,EAAQC,IAAR,EAAiB;AAC/C,YAAID,KAAJ,EAAW;AACPE,oBAAQC,GAAR,CAAYH,KAAZ;AACA,mBAAO,KAAP;AACH;AACDE,gBAAQC,GAAR,CAAY,kBAAZ,EAAgCF,KAAKG,SAArC;AACA;AACAF,gBAAQC,GAAR,CAAY,iBAAZ,EAA+B,qBAAWE,iBAAX,CAA6BJ,IAA7B,CAA/B;AACA,eAAO,IAAP;AACH,KATD;AAUH,C","file":"mailer.js","sourcesContent":["import nodemailer from 'nodemailer';\r\n\r\nexport default (to, subject, text, html) => {\r\n    // create reusable transporter object using the default SMTP transport\r\n    let transporter = nodemailer.createTransport({\r\n        host: 'mail.gistout.com',\r\n        port: 587,\r\n        secure: false, // true for 465, false for other ports\r\n        auth: {\r\n            user: 'noreply@gistout.com', // generated ethereal user\r\n            pass: 'gabmicah'  // generated ethereal password\r\n        },\r\n        tls: {\r\n            rejectUnauthorized: false\r\n        }\r\n    });\r\n\r\n    // setup email data with unicode symbols\r\n    let mailOptions = {\r\n        from: '\"Boots Events Manager ðŸ‘»\" <noreply@gistout.com>', // sender address\r\n        to: to, // list of receivers\r\n        subject: `${subject} âœ”`, // Subject line\r\n        text: text, // plain text body\r\n        html: `${html}` // html body\r\n    };\r\n\r\n    // send mail with defined transport object\r\n    transporter.sendMail(mailOptions, (error, info) => {\r\n        if (error) {\r\n            console.log(error);\r\n            return false;\r\n        }\r\n        console.log('Message sent: %s', info.messageId);\r\n        // Preview only available when sending through an Ethereal account\r\n        console.log('Preview URL: %s', nodemailer.getTestMessageUrl(info));\r\n        return true;\r\n    });\r\n};"]}