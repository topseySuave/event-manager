{"version":3,"sources":["../../server/middleware/validator.js"],"names":["Validation","req","res","next","centerRules","title","location","description","facilities","capacity","price","validate","body","passes","status","send","message","statusCode","error","errors","eventRules","startDate","endDate","userId","validateLogin","email","password","validation","firstName","lastName"],"mappings":";;;;;;;;;AAAA;;;;;;;;IAEaA,U,WAAAA,U;;;;;;;mCACIC,G,EAAKC,G,EAAKC,I,EAAM;AAC7B,UAAMC,cAAc;AAClBC,eAAO,iBADW;AAElBC,kBAAU,iBAFQ;AAGlBC,qBAAa,iBAHK;AAIlBC,oBAAY,OAJM;AAKlBC,kBAAU,SALQ;AAMlBC,eAAO;AANW,OAApB;;AASA,UAAIC,WAAW,0BAAcV,IAAIW,IAAlB,EAAwBR,WAAxB,CAAf;AACA,UAAIO,SAASE,MAAT,EAAJ,EAAuB;AACrBV;AACD,OAFD,MAEO;AACL,eAAOD,IAAIY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,6BADiB;AAE1BC,sBAAY,GAFc;AAG1BC,iBAAOP,SAASQ;AAHU,SAArB,CAAP;AAKD;AACF;;;kCAEalB,G,EAAKC,G,EAAKC,I,EAAM;AAC5B,UAAMiB,aAAa;AACjBf,eAAO,iBADU;AAEjBE,qBAAa,iBAFI;AAGjBc,mBAAW,eAHM;AAIjBC,iBAAS,eAJQ;AAKjBC,gBAAQ;AALS,OAAnB;;AAQA,UAAIZ,WAAW,0BAAcV,IAAIW,IAAlB,EAAwBQ,UAAxB,CAAf;AACA,UAAIT,SAASE,MAAT,EAAJ,EAAuB;AACrBV;AACD,OAFD,MAEO;AACL,eAAOD,IAAIY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,6BADiB;AAE1BC,sBAAY,GAFc;AAG1BC,iBAAOP,SAASQ;AAHU,SAArB,CAAP;AAKD;AACF;;;kCAEalB,G,EAAKC,G,EAAKC,I,EAAM;AAC5B,UAAIqB,gBAAgB;AAClBC,eAAO,gBADW;AAElBC,kBAAU;AAFQ,OAApB;;AAKA,UAAIf,WAAW,0BAAcV,IAAIW,IAAlB,EAAwBY,aAAxB,CAAf;;AAEA,UAAIb,SAASE,MAAT,EAAJ,EAAuB;AACrB,eAAOV,MAAP;AACD;AACD,aAAOD,IAAIY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,iBAAS,6BADiB;AAE1BC,oBAAY,GAFc;AAG1BC,eAAOP,SAASQ;AAHU,OAArB,CAAP;AAKD;;;mCAEclB,G,EAAKC,G,EAAKC,I,EAAM;AAC7B,UAAIwB,aAAa;AACfC,mBAAW,iBADI;AAEfC,kBAAU,iBAFK;AAGfJ,eAAO,gBAHQ;AAIfC,kBAAU;AAJK,OAAjB;;AAOA,UAAIf,WAAW,0BAAcV,IAAIW,IAAlB,EAAwBe,UAAxB,CAAf;;AAEA,UAAIhB,SAASE,MAAT,EAAJ,EAAuB;AACrBV;AACD,OAFD,MAEO;AACL,eAAOD,IAAIY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,6BADiB;AAE1BC,sBAAY,GAFc;AAG1BC,iBAAOP,SAASQ;AAHU,SAArB,CAAP;AAKD;AACF;;;;;;kBAGYnB,U","file":"validator.js","sourcesContent":["import Validator from 'validatorjs';\r\n\r\nexport class Validation {\r\n  validateCenter(req, res, next) {\r\n    const centerRules = {\r\n      title: 'required|string',\r\n      location: 'required|string',\r\n      description: 'required|string',\r\n      facilities: 'array',\r\n      capacity: 'integer',\r\n      price: 'integer'\r\n    };\r\n\r\n    let validate = new Validator(req.body, centerRules);\r\n    if (validate.passes()) {\r\n      next();\r\n    } else {\r\n      return res.status(400).send({\r\n        message: \"a required field is missing\",\r\n        statusCode: 400,\r\n        error: validate.errors\r\n      });\r\n    }\r\n  }\r\n\r\n  validateEvent(req, res, next) {\r\n    const eventRules = {\r\n      title: 'required|string',\r\n      description: 'required|string',\r\n      startDate: 'required|date',\r\n      endDate: 'required|date',\r\n      userId: 'required|integer'\r\n    };\r\n\r\n    let validate = new Validator(req.body, eventRules);\r\n    if (validate.passes()) {\r\n      next();\r\n    } else {\r\n      return res.status(400).send({\r\n        message: \"a required field is missing\",\r\n        statusCode: 400,\r\n        error: validate.errors\r\n      });\r\n    }\r\n  }\r\n\r\n  validateLogin(req, res, next) {\r\n    let validateLogin = {\r\n      email: 'required|email',\r\n      password: 'required|string'\r\n    };\r\n\r\n    let validate = new Validator(req.body, validateLogin);\r\n\r\n    if (validate.passes()) {\r\n      return next();\r\n    }\r\n    return res.status(400).send({\r\n      message: \"a required field is missing\",\r\n      statusCode: 400,\r\n      error: validate.errors\r\n    });\r\n  }\r\n\r\n  validateSignUp(req, res, next) {\r\n    let validation = {\r\n      firstName: 'required|string',\r\n      lastName: 'required|string',\r\n      email: 'required|email',\r\n      password: 'required|string'\r\n    };\r\n\r\n    let validate = new Validator(req.body, validation);\r\n\r\n    if (validate.passes()) {\r\n      next();\r\n    } else {\r\n      return res.status(400).send({\r\n        message: \"a required field is missing\",\r\n        statusCode: 400,\r\n        error: validate.errors\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default Validation;\r\n"]}